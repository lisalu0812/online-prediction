(this["webpackJsonppdh-project"]=this["webpackJsonppdh-project"]||[]).push([[0],{193:function(e,t,n){},199:function(e,t,n){},312:function(e,t,n){},315:function(e,t,n){"use strict";n.r(t);var c=n(9),a=n(0),i=n.n(a),l=n(14),o=n.n(l),s=(n(193),n(92)),r=n(53),d=n(359),j=n(78),u=(n(194),n(100)),b=n(91),h=n(41),O=n(68),m=Object(O.b)({name:"documents",initialState:[],reducers:{addDocument:function(e,t){var n=t.payload.content.match(/(([^\.\?\!\r\n]*\d+\.?\d*[^\.\?\!\:\r\n]+\s*)|([^\.\!\?\:\r\n]+\s*))[\.\?\!\:\r\n]/g).map((function(e,t){return{key:t,index:t,content:e,tag:"O"}}));e.push({id:t.payload.id,filename:t.payload.filename,content:n})},setTag:function(e,t){var n=e[t.payload.documentId];t.payload.keys.forEach((function(e){n.content.forEach((function(n){e===n.key&&(n.tag=t.payload.tag)}))}))}}}),x=m.actions,p=x.addDocument,f=(x.setTag,m.reducer),g=Object(O.b)({name:"selectedDoc",initialState:{id:0},reducers:{setSelectedDoc:function(e,t){e.id=t.payload}}}),v=g.actions.setSelectedDoc,y=g.reducer,w=n(361),S=(n(199),n(200),n(161)),k=n.n(S),C=n(364),N=Object(O.b)({name:"selectedRows",initialState:{keys:[]},reducers:{setSelectedRows:function(e,t){e.keys=t.payload}}}),D=N.actions.setSelectedRows,I=N.reducer,R=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.documents})),n=Object(h.c)((function(e){return e.selectedDoc.id})),i=Object(a.useState)(0),l=Object(b.a)(i,2),o=l[0],s=l[1],r=function(t){s((function(e){return e+1}));var n=o,c=new FileReader;c.readAsText(t),c.onload=function(){var a=c.result;a&&e(p({id:n,filename:t.name,content:a}))}};return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"top-title",children:Object(c.jsxs)("h2",{children:[Object(c.jsx)("b",{children:"Documents"}),Object(c.jsxs)("label",{className:"upload-btn",children:[Object(c.jsx)(C.a,{}),Object(c.jsx)("input",{type:"file",onChange:function(e){return r(e.target.files[0])},style:{display:"none"},accept:".txt"})]})]})}),Object(c.jsx)("div",{children:Object(c.jsx)(k.a,{onChangeStatus:function(e,t){e.meta;var n=e.file;"done"===t&&r(n)},accept:".txt",LayoutComponent:function(a){a.input,a.previews,a.submitButton;var i=a.dropzoneProps;a.files,a.extra.maxFiles;return Object(c.jsx)("div",Object(u.a)(Object(u.a)({},i),{},{style:{height:700},children:Object(c.jsx)(w.b,{dataSource:t,renderItem:function(t){return Object(c.jsx)("div",{onClick:function(){return n=t.id,e(D([])),void e(v(n));var n},children:Object(c.jsx)(w.b.Item,{className:"list-item"+(n===t.id?" item-selected":""),children:Object(c.jsx)(w.b.Item.Meta,{className:"list-item-meta",title:t.filename})})})},style:{width:"100%"}})}))}})})]})},M=n(362),P=n(357),B=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.documents})),n=Object(h.c)((function(e){return e.selectedDoc.id})),a=Object(h.c)((function(e){return e.selectedRows.keys})),i=[{title:"#",dataIndex:"index"},{title:"Content",dataIndex:"content"},{title:"Tag",dataIndex:"tag",render:function(e){var t="green";return"I"===e?t="geekblue":"B"===e&&(t="volcano"),Object(c.jsx)(M.a,{color:t,children:e},e)}}],l=t[n]?t[n].content:null,o={onChange:function(t,n){e(D(t))},selectedRowKeys:a};return Object(c.jsx)("div",{children:Object(c.jsx)(P.a,{rowSelection:Object(u.a)({type:"checkbox"},o),columns:i,dataSource:l,pagination:{hideOnSinglePage:!0}})})},T=n(366),L=(n(312),n.p+"static/media/PDH-logo-master-orange-black.78cd60a6.png"),E=n.p+"static/media/orion-health-logo.d19969ec.png",H=n.p+"static/media/Waik_Word_RGB_H.15231788.jpg",W=n(363),U=n(352),z=n(365),A=n(360),F=n(355),J=n(358),_=Object(U.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function V(){var e=_(),t=i.a.useState(""),n=Object(b.a)(t,2),a=n[0],l=n[1],o=i.a.useState(""),s=Object(b.a)(o,2),r=s[0],d=s[1],j=i.a.useState(""),u=Object(b.a)(j,2),h=u[0],O=u[1];return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)(F.a,{variant:"outlined",className:e.formControl,children:[Object(c.jsx)(z.a,{id:"select-outlined-label",children:"Method"}),Object(c.jsxs)(J.a,{labelId:"select-outlined-label",id:"select-outlined",value:a,onChange:function(e){l(e.target.value)},label:"Method",children:[Object(c.jsx)(A.a,{value:"",children:Object(c.jsx)("em",{children:"None"})}),Object(c.jsx)(A.a,{value:1,children:"Machine Learning Based"}),Object(c.jsx)(A.a,{value:2,children:"Rule Based"})]})]}),Object(c.jsxs)(F.a,{className:e.formControl,disabled:1!==a,children:[Object(c.jsx)(z.a,{id:"select-disabled-label",children:"Model"}),Object(c.jsxs)(J.a,{labelId:"select-disabled-label",id:"select-disabled",value:h,onChange:function(e){O(e.target.value),e.target.value},label:"Model",children:[Object(c.jsx)(A.a,{value:"",children:Object(c.jsx)("em",{children:"None"})}),Object(c.jsx)(A.a,{value:1,children:"Linear SVC"}),Object(c.jsx)(A.a,{value:2,children:"Random Forest Classifier"})]})]}),Object(c.jsxs)(F.a,{variant:"outlined",className:e.formControl,children:[Object(c.jsx)(z.a,{id:"select-outlined-label",children:"Section"}),Object(c.jsxs)(J.a,{labelId:"select-outlined-label",id:"select-outlined",value:r,onChange:function(e){d(e.target.value)},label:"Section",children:[Object(c.jsx)(A.a,{value:"",children:Object(c.jsx)("em",{children:"None"})}),Object(c.jsx)(A.a,{value:1,children:"History of Present Illness"}),Object(c.jsx)(A.a,{value:2,children:"Previous History"})]})]})]})}var G=function(){var e=this,t=(Object(h.b)(),Object(h.c)((function(e){return e.documents}))),n=Object(h.c)((function(e){return e.selectedDoc.id}));return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(s.a,{children:Object(c.jsx)(r.a,{children:Object(c.jsx)("h1",{className:"title",children:"Online Prediction Tool"})})}),Object(c.jsxs)(s.a,{gutter:[16,16],children:[Object(c.jsx)(r.a,{span:6,children:Object(c.jsx)(d.a,{children:Object(c.jsx)(R,{})})}),Object(c.jsxs)(r.a,{span:17,children:[Object(c.jsxs)(d.a,{children:[Object(c.jsx)(V,{}),Object(c.jsx)(j.a,{className:"uploadModel-btn",type:"primary",icon:Object(c.jsx)(C.a,{}),onClick:function(){},children:"Upload Model"}),Object(c.jsx)(j.a,{className:"predict-btns",type:"primary",onclick:function(t){var n=e.state.formData;e.setState({isLoading:!0}),fetch("http://127.0.0.1:5000/prediction/",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){e.setState({result:t.result,isLoading:!1})}))},children:"Predict"})]}),Object(c.jsxs)(d.a,{style:{height:"90%"},children:[Object(c.jsx)(B,{}),t[n]&&Object(c.jsx)(j.a,{className:"download-btn",type:"primary",icon:Object(c.jsx)(T.a,{}),onClick:function(){var e=t[n],c="index,content,tag\n";e.content.forEach((function(e){var t=","+"".concat(e.content).replace(/(\r\n|\n|\r)/gm,"")+",";c+="".concat(e.index)+t+"".concat(e.tag,"\n")})),console.log(c);var a=new Blob([c],{type:"text/csv"}),i=document.createElement("a");i.download=e.filename.replace(".txt",".csv"),i.href=window.URL.createObjectURL(a),i.style.display="none",document.body.appendChild(i),i.click()},children:"Download CSV"})]})]})]}),Object(c.jsx)(W.a,{fluid:!0,children:Object(c.jsxs)(s.a,{children:[Object(c.jsx)(r.a,{md:8,children:Object(c.jsx)("a",{href:"https://precisiondrivenhealth.com/",children:Object(c.jsx)("img",{className:"logo1",src:L,alt:"PDH logo",fluid:!0})})}),Object(c.jsx)(r.a,{md:8,children:Object(c.jsx)("a",{href:"https://orionhealth.com/nz/",children:Object(c.jsx)("img",{className:"logo",src:E,alt:"Orion Health logo",fluid:!0})})}),Object(c.jsx)(r.a,{md:8,children:Object(c.jsx)("a",{href:"https://www.waikato.ac.nz/",children:Object(c.jsx)("img",{className:"logo1",src:H,alt:"Waikato Uni logo",fluid:!0})})})]})})]})},K=Object(O.a)({reducer:{documents:f,selectedDoc:y,selectedRows:I}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(h.a,{store:K,children:Object(c.jsx)(G,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[315,1,2]]]);
//# sourceMappingURL=main.72de6cf8.chunk.js.map